@page "/about"
@using VisualCtf.Services.CtfDelivery
@using Page = VisualCtf.Services.CtfDelivery.Page
@using Contentful.Core.Search
@using Contentful.Core.Models

@inject CtfDeliveryService CtfDelivery

<MudPaper Elevation="0" Class="pa-5">
    <MudPaper Elevation="0" Class="mainbody" Style="max-width: 800px">
        @((MarkupString)_mainBodyHtml)
    </MudPaper>
</MudPaper>






@code {
    private string _mainBodyHtml;

    protected override async Task OnInitializedAsync()
    {
        var htmlRenderer = new HtmlRenderer();
        var qb = new QueryBuilder<Page>().Include(1);
        var page = await CtfDelivery.CtfClient.GetEntry("2jJEfEqvQh0BAS2nQgxjeR", qb);
        _mainBodyHtml = await htmlRenderer.ToHtml(page.MainText);

    }

}