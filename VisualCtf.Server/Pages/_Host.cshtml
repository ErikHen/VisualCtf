@page
@using VisualCtf.Client
@using VisualCtf.Shared.Services
@using Microsoft.Extensions.Hosting
@inject ICtfDeliveryService CtfDelivery

@{
    Layout = null;
    var page = await CtfDelivery.GetPage("HttpContext.Request.Path");
}

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Visual CTF - Contentful visualizer @(string.IsNullOrWhiteSpace(page?.PageName) ? string.Empty : "- " + page.PageName)</title>
    <base href="/" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <link rel="preload" href="css/main.css" as="style" onload="this.onload=null;this.rel='stylesheet';">

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#009688">
    <meta name="msapplication-TileColor" content="#009688">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <meta property="og:title" content="Visual CTF - Contentful visualizer" />
    <meta property="og:description" content="Visualize your Contentful content types." />
    <meta property="og:image" content="https://visualctf.app/favicon/VisualCTF_logo.png" />
</head>

<body>
    <component type="typeof(App)" render-mode="WebAssemblyPrerendered" />

    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    @*<script>navigator.serviceWorker.register('service-worker.js');</script>*@
    <script src="_content/Blazor-Analytics/blazor-analytics.js"></script>
</body>
</html>