@inject NavigationManager NavigationManager
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration


<MudButton Variant="Variant.Filled" Color="Color.Secondary" Link="@GetAuthorizeUrl()">Log in</MudButton>

@code {

    private string GetAuthorizeUrl()
    {
        var host = NavigationManager.BaseUri;
        var prefix = host.Contains("azurewebsite") ? "Azureweb" : "";
        var clientId = Configuration["OAuthClientId" + prefix];
        return $"https://be.contentful.com/oauth/authorize?response_type=token&client_id={clientId}&redirect_uri={host}gettoken/&scope=content_management_read";
    }
}
